<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.36">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>7&nbsp; Evaluating models – Introduction to Capital Modeling and Portfolio Management</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./070_AdvancedTopics.html" rel="next">
<link href="./060_SelectingSRM.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-01c78b5cd655e4cd89133cf59d535862.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-44a2bfbc4aea0d0866ad2a0ddca8a790.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<link rel="icon" href="./static/favicon.ico" type="image/x-icon">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="7&nbsp; Evaluating models – Introduction to Capital Modeling and Portfolio Management">
<meta property="og:description" content="">
<meta property="og:site_name" content="Introduction to Capital Modeling and Portfolio Management">
<meta name="twitter:title" content="7&nbsp; Evaluating models – Introduction to Capital Modeling and Portfolio Management">
<meta name="twitter:description" content="">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./065_Evaluation.html"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Evaluating models</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Introduction to Capital Modeling and Portfolio Management</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dedication.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dedication</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./010_Introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./020_BusinessOperations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Business operations</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./030_CapitalAdequacy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Capital adequacy and sources of risk</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./040_PricingAndAllocation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Pricing and allocation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./050_Applications.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Applications of pricing and allocation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./060_SelectingSRM.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Selecting and calibrating an SRM</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./065_Evaluation.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Evaluating models</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./070_AdvancedTopics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Advanced topics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./080_Calculations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Calculations with <code>Aggregate</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./090_EndMatter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Appendices</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bibliography</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">In this chapter:</h2>
   
  <ul>
  <li><a href="#sec-eval-own-model" id="toc-sec-eval-own-model" class="nav-link active" data-scroll-target="#sec-eval-own-model"><span class="header-section-number">7.1</span> Evaluating your model</a></li>
  <li><a href="#sec-eval-3rd-party" id="toc-sec-eval-3rd-party" class="nav-link" data-scroll-target="#sec-eval-3rd-party"><span class="header-section-number">7.2</span> Evaluating third-party models</a></li>
  <li><a href="#sec-eval-platform" id="toc-sec-eval-platform" class="nav-link" data-scroll-target="#sec-eval-platform"><span class="header-section-number">7.3</span> Evaluating modeling platforms</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span id="sec-Evaluation" class="quarto-section-identifier"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Evaluating models</span></span></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><em>The trouble with most of us is that we would rather be ruined by praise than saved by criticism.</em><br>
<em>- Norman Vincent Peale</em></p>
<p>This chapter encompasses three distinct tasks:</p>
<ol type="1">
<li>Evaluating your particular capital model.</li>
<li>Evaluating a third-party model, e.g., regulatory or rating agency model.</li>
<li>Evaluating a modeling platform you might use to build your own model.</li>
</ol>
<section id="sec-eval-own-model" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="sec-eval-own-model"><span class="header-section-number">7.1</span> Evaluating your model</h2>
<p>There are several phases to evaluating your own model.</p>
<p>First, does it meet its design specifications in terms of features and functionality? You will refer back to the requirements document you prepared per <a href="010_Introduction.html#sec-Getting-Started" class="quarto-xref"><span>Section 1.3</span></a>. (You <em>did</em> prepare a formal document, didn’t you?) This serves as a checklist as you review the features of your model.</p>
<p>Second, like any software development project, you need to run a battery of tests to verify it is behaving—especially calculating—correctly. If you built the model from the ground up, you might have created tests concurrently with module development. Use those, and add some more.</p>
<p>Third is validation: does the model produce realistic results? Whereas the first two phases apply to all the modules listed in <a href="010_Introduction.html#sec-System-Overview" class="quarto-xref"><span>Section 1.5</span></a>, the third applies only to the Business Operations module. Validation might consist of expert judgment—but beware echo-chamber effects. Ideally, however, you have access to historical data that can be used to run the model as if it had existed in times past. Then, its outputs can be compared with what really did come to pass. Components of validation include:</p>
<ol type="1">
<li><strong>Best Estimates:</strong> With inputs corresponding to the plan, do central values (means or medians) of key variables (cash flows and derived accounting values) calibrate to the plan? Do the output distributions seem reasonable?</li>
<li><strong>Variability:</strong> Do basic statistics (coefficient of variation, skewness, quantiles, etc.) of outputs seem reasonable? Are you getting what you expect? Are they consistent with historical (your own or industry) experience?</li>
<li><strong>Back testing:</strong> If historical replays are possible, compute where the historical values lie in terms of percentiles of the output distributions, i.e., <span class="math inline">\(p\)</span> values. The <span class="math inline">\(p\)</span> values should reasonably be draws from uniform distributions. They should not cluster together at the low or high end—this indicates bias. They should not clump together in the middle—this indicates that historical variation is low compared to the model. Nor should they create a void in the middle—this indicates too much variation. Be careful not to overthink this, however. With only a handful of observations, only egregiously bad results can be considered statistically significant.</li>
<li><strong>Repeat:</strong> As the model gets used, repeat back testing regularly (quarterly or annually). Build a growing library of <span class="math inline">\(p\)</span> values to demonstrate that model ranges are wide enough and symmetrical.</li>
</ol>
</section>
<section id="sec-eval-3rd-party" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="sec-eval-3rd-party"><span class="header-section-number">7.2</span> Evaluating third-party models</h2>
<p>Third-party models, if they include Business Operations simulation, should be evaluated—to the extent possible—in the manner described in <a href="#sec-eval-own-model" class="quarto-xref"><span>Section 7.1</span></a>.</p>
<p>Some third-party models, like minimum capital requirements created and used by regulators and rating agencies, do not simulate business outcomes but rather proceed directly from business characteristics as input to required capital as output. You may want to use such a model in one of several ways:</p>
<ol type="1">
<li>It is your only model; all you want to know is required capital. Unfortunately, this may not give you a clear path to allocating cost of capital and required premiums. However, it is a start if you have no capital model at all. Apply the non-Business Operations evaluation steps outlined in <a href="#sec-eval-own-model" class="quarto-xref"><span>Section 7.1</span></a>.</li>
<li>You intend to run it in parallel with your own model and compare results. Evaluate as in the previous bullet.</li>
<li>You intend to integrate it with your own model. This can mean several things.
<ol type="a">
<li>Integrated reporting but otherwise separate calculations can be treated as previously but with additional testing to ensure the reporting is working correctly.</li>
<li>If the third-party model is to function as the Capital Adequacy module, then careful testing and review is needed to determine whether its outputs will be consistent with the workings of the Business Operations and Pricing and Allocation modules. For example, if a change to the portfolio moves the 95% and 99% loss quantiles upwards but the required capital goes down, then you might rethink the wisdom of relying solely on the third-party model. If it has capital allocation functionality, is it implementing something like CCoC? Can it be modified to perform an NA, or can that part be bypassed in favor of a different Pricing and Allocation module?</li>
</ol></li>
</ol>
<p>Some companies manage to (or are at least acutely aware of) their binding rating agency’s or regulator’s view of capital. You may be asked the point of an internal model, given this binding view. The answer should go back to the charter for the internal model—after all, it is not a surprise that an external model is binding. What additional value was anticipated from an internal model <em>before you started building?</em> Reconsider why you are building an internal model if you cannot answer this question ahead of time.</p>
</section>
<section id="sec-eval-platform" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="sec-eval-platform"><span class="header-section-number">7.3</span> Evaluating modeling platforms</h2>
<p>Model building <em>platforms</em> range from programming languages with integrated development environments to heavily graphical user interface-based wiring diagram applications. What they have in common is that they are not ready-to-run models. How they differ is the extent to which they offer prefabricated computational modules and the support they offer for translating specifications into a model. Some programming languages, like R or Python, have many open-source libraries available to the public for free.</p>
<p>The first question to be addressed is: can the platform be used to build the model you have specified in <a href="010_Introduction.html#sec-Getting-Started" class="quarto-xref"><span>Section 1.3</span></a>? The second, trickier question, is: how difficult will that be? Of course, budget limitations need also be taken into account. However, you <em>may</em> find a trade-off between direct expense to acquire the platform and labor expense to build the model with it.</p>
<p>Here are some items to consider when evaluating a modeling platform:</p>
<ol type="1">
<li><strong>Modeling</strong>
<ol type="a">
<li>What accounting bases are supported for financial computations?</li>
<li>How can loss payout patterns be modeled?</li>
<li>How can assets be modeled (e.g., sweep accounts with proportionate investment strategies)?</li>
<li>How can dependency be modeled (e.g., Iman-Conover shuffling, copulas, other)?</li>
<li>What options are available for defining required capital?</li>
<li>What options are available for defining and allocating required margins?</li>
</ol></li>
<li><strong>Parameters</strong>
<ol type="a">
<li>What parameters are explicitly variable and which are implicit and “hard-coded”?</li>
<li>How are parameters stored? Can they easily be changed from one run to another?</li>
<li>Is there an explicit provision for uncertainty in parameterization? (See also <a href="070_AdvancedTopics.html#sec-Uncertainty" class="quarto-xref"><span>Section 8.1</span></a>.)</li>
</ol></li>
<li><strong>Input and output</strong>
<ol type="a">
<li>What formats/databases are supported for data input? Report output? Simulation details?</li>
<li>What are the report generation options?</li>
<li>What tabular output options are there?</li>
<li>What graphical output options are there?</li>
</ol></li>
<li><strong>Integration</strong>
<ol type="a">
<li>How is integration with Excel handled?</li>
<li>Is integration with a separate Economic Scenario Generator possible?</li>
<li>How is integration with commercial catastrophe models handled?</li>
</ol></li>
<li><strong>Running</strong>
<ol type="a">
<li>Are automatic multi-assumption model runs supported?</li>
<li>Is there scripting? In what language?</li>
</ol></li>
<li><strong>System issues</strong>
<ol type="a">
<li>How are version control and model security handled?</li>
<li>What are the hardware requirements (one PC, cluster, cloud)?</li>
<li>Is there a front-end app or web interface?</li>
<li>Is there an Application Programming Interface (API)?</li>
</ol></li>
<li><strong>Track record</strong>
<ol type="a">
<li>Are there models in production used for the London market, Solvency II, and Swiss Solvency Test?</li>
<li>What is the typical size of a client model (lines, year, assets, etc.) and what is the corresponding simulation run time?</li>
</ol></li>
</ol>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/cmm\.mynl\.com");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
          // default icon
          link.classList.add("external");
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./060_SelectingSRM.html" class="pagination-link" aria-label="Selecting and calibrating an SRM">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Selecting and calibrating an SRM</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./070_AdvancedTopics.html" class="pagination-link" aria-label="Advanced topics">
        <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Advanced topics</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb1" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu"># Evaluating models {#sec-Evaluation}</span></span>
<span id="cb1-2"><a href="#cb1-2"></a></span>
<span id="cb1-3"><a href="#cb1-3"></a>*The trouble with most of us is that we would rather be ruined by praise than saved by criticism.*\</span>
<span id="cb1-4"><a href="#cb1-4"></a>*- Norman Vincent Peale*</span>
<span id="cb1-5"><a href="#cb1-5"></a></span>
<span id="cb1-6"><a href="#cb1-6"></a>This chapter encompasses three distinct tasks:</span>
<span id="cb1-7"><a href="#cb1-7"></a></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="ss">1.  </span>Evaluating your particular capital model.</span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="ss">2.  </span>Evaluating a third-party model, e.g., regulatory or rating agency model.</span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="ss">3.  </span>Evaluating a modeling platform you might use to build your own model.</span>
<span id="cb1-11"><a href="#cb1-11"></a></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="fu">## Evaluating your model {#sec-eval-own-model}</span></span>
<span id="cb1-13"><a href="#cb1-13"></a></span>
<span id="cb1-14"><a href="#cb1-14"></a>There are several phases to evaluating your own model.</span>
<span id="cb1-15"><a href="#cb1-15"></a></span>
<span id="cb1-16"><a href="#cb1-16"></a>First, does it meet its design specifications in terms of features and functionality? You will refer back to the requirements document you prepared per @sec-Getting-Started. (You *did* prepare a formal document, didn't you?) This serves as a checklist as you review the features of your model.</span>
<span id="cb1-17"><a href="#cb1-17"></a></span>
<span id="cb1-18"><a href="#cb1-18"></a>Second, like any software development project, you need to run a battery of tests to verify it is behaving---especially calculating---correctly. If you built the model from the ground up, you might have created tests concurrently with module development. Use those, and add some more.</span>
<span id="cb1-19"><a href="#cb1-19"></a></span>
<span id="cb1-20"><a href="#cb1-20"></a>Third is validation: does the model produce realistic results? Whereas the first two phases apply to all the modules listed in @sec-System-Overview, the third applies only to the Business Operations module. Validation might consist of expert judgment---but beware echo-chamber effects. Ideally, however, you have access to historical data that can be used to run the model as if it had existed in times past. Then, its outputs can be compared with what really did come to pass. Components of validation include:</span>
<span id="cb1-21"><a href="#cb1-21"></a></span>
<span id="cb1-22"><a href="#cb1-22"></a><span class="ss">1.  </span>**Best Estimates:** With inputs corresponding to the plan, do central values (means or medians) of key variables (cash flows and derived accounting values) calibrate to the plan? Do the output distributions seem reasonable?</span>
<span id="cb1-23"><a href="#cb1-23"></a><span class="ss">2.  </span>**Variability:** Do basic statistics (coefficient of variation, skewness, quantiles, etc.) of outputs seem reasonable? Are you getting what you expect? Are they consistent with historical (your own or industry) experience?</span>
<span id="cb1-24"><a href="#cb1-24"></a><span class="ss">3.  </span>**Back testing:** If historical replays are possible, compute where the historical values lie in terms of percentiles of the output distributions, i.e., $p$ values. The $p$ values should reasonably be draws from uniform distributions. They should not cluster together at the low or high end---this indicates bias. They should not clump together in the middle---this indicates that historical variation is low compared to the model. Nor should they create a void in the middle---this indicates too much variation. Be careful not to overthink this, however. With only a handful of observations, only egregiously bad results can be considered statistically significant.</span>
<span id="cb1-25"><a href="#cb1-25"></a><span class="ss">4.  </span>**Repeat:** As the model gets used, repeat back testing regularly (quarterly or annually). Build a growing library of $p$ values to demonstrate that model ranges are wide enough and symmetrical.</span>
<span id="cb1-26"><a href="#cb1-26"></a></span>
<span id="cb1-27"><a href="#cb1-27"></a><span class="fu">## Evaluating third-party models {#sec-eval-3rd-party}</span></span>
<span id="cb1-28"><a href="#cb1-28"></a></span>
<span id="cb1-29"><a href="#cb1-29"></a>Third-party models, if they include Business Operations simulation, should be evaluated---to the extent possible---in the manner described in @sec-eval-own-model.</span>
<span id="cb1-30"><a href="#cb1-30"></a></span>
<span id="cb1-31"><a href="#cb1-31"></a>Some third-party models, like minimum capital requirements created and used by regulators and rating agencies, do not simulate business outcomes but rather proceed directly from business characteristics as input to required capital as output. You may want to use such a model in one of several ways:</span>
<span id="cb1-32"><a href="#cb1-32"></a></span>
<span id="cb1-33"><a href="#cb1-33"></a><span class="ss">1.  </span>It is your only model; all you want to know is required capital. Unfortunately, this may not give you a clear path to allocating cost of capital and required premiums. However, it is a start if you have no capital model at all. Apply the non-Business Operations evaluation steps outlined in @sec-eval-own-model.</span>
<span id="cb1-34"><a href="#cb1-34"></a><span class="ss">2.  </span>You intend to run it in parallel with your own model and compare results. Evaluate as in the previous bullet.</span>
<span id="cb1-35"><a href="#cb1-35"></a><span class="ss">3.  </span>You intend to integrate it with your own model. This can mean several things.</span>
<span id="cb1-36"><a href="#cb1-36"></a>    a.  Integrated reporting but otherwise separate calculations can be treated as previously but with additional testing to ensure the reporting is working correctly.</span>
<span id="cb1-37"><a href="#cb1-37"></a>    b.  If the third-party model is to function as the Capital Adequacy module, then careful testing and review is needed to determine whether its outputs will be consistent with the workings of the Business Operations and Pricing and Allocation modules. For example, if a change to the portfolio moves the 95% and 99% loss quantiles upwards but the required capital goes down, then you might rethink the wisdom of relying solely on the third-party model. If it has capital allocation functionality, is it implementing something like CCoC? Can it be modified to perform an NA, or can that part be bypassed in favor of a different Pricing and Allocation module?</span>
<span id="cb1-38"><a href="#cb1-38"></a></span>
<span id="cb1-39"><a href="#cb1-39"></a>Some companies manage to (or are at least acutely aware of) their binding rating agency's or regulator's view of capital. You may be asked the point of an internal model, given this binding view. The answer should go back to the charter for the internal model---after all, it is not a surprise that an external model is binding. What additional value was anticipated from an internal model *before you started building?* Reconsider why you are building an internal model if you cannot answer this question ahead of time.</span>
<span id="cb1-40"><a href="#cb1-40"></a></span>
<span id="cb1-41"><a href="#cb1-41"></a><span class="fu">## Evaluating modeling platforms {#sec-eval-platform}</span></span>
<span id="cb1-42"><a href="#cb1-42"></a></span>
<span id="cb1-43"><a href="#cb1-43"></a>Model building *platforms* range from programming languages with integrated development environments to heavily graphical user interface-based wiring diagram applications. What they have in common is that they are not ready-to-run models. How they differ is the extent to which they offer prefabricated computational modules and the support they offer for translating specifications into a model. Some programming languages, like R or Python, have many open-source libraries available to the public for free.</span>
<span id="cb1-44"><a href="#cb1-44"></a></span>
<span id="cb1-45"><a href="#cb1-45"></a>The first question to be addressed is: can the platform be used to build the model you have specified in @sec-Getting-Started? The second, trickier question, is: how difficult will that be? Of course, budget limitations need also be taken into account. However, you *may* find a trade-off between direct expense to acquire the platform and labor expense to build the model with it.</span>
<span id="cb1-46"><a href="#cb1-46"></a></span>
<span id="cb1-47"><a href="#cb1-47"></a>Here are some items to consider when evaluating a modeling platform:</span>
<span id="cb1-48"><a href="#cb1-48"></a></span>
<span id="cb1-49"><a href="#cb1-49"></a><span class="ss">1.  </span>**Modeling**</span>
<span id="cb1-50"><a href="#cb1-50"></a>    a.  What accounting bases are supported for financial computations?</span>
<span id="cb1-51"><a href="#cb1-51"></a>    b.  How can loss payout patterns be modeled?</span>
<span id="cb1-52"><a href="#cb1-52"></a>    c.  How can assets be modeled (e.g., sweep accounts with proportionate investment strategies)?</span>
<span id="cb1-53"><a href="#cb1-53"></a>    d.  How can dependency be modeled (e.g., Iman-Conover shuffling, copulas, other)?</span>
<span id="cb1-54"><a href="#cb1-54"></a>    e.  What options are available for defining required capital?</span>
<span id="cb1-55"><a href="#cb1-55"></a>    f.  What options are available for defining and allocating required margins?</span>
<span id="cb1-56"><a href="#cb1-56"></a><span class="ss">2.  </span>**Parameters**</span>
<span id="cb1-57"><a href="#cb1-57"></a>    a.  What parameters are explicitly variable and which are implicit and "hard-coded"?</span>
<span id="cb1-58"><a href="#cb1-58"></a>    b.  How are parameters stored? Can they easily be changed from one run to another?</span>
<span id="cb1-59"><a href="#cb1-59"></a>    c.  Is there an explicit provision for uncertainty in parameterization? (See also @sec-Uncertainty.)</span>
<span id="cb1-60"><a href="#cb1-60"></a><span class="ss">3.  </span>**Input and output**</span>
<span id="cb1-61"><a href="#cb1-61"></a>    a.  What formats/databases are supported for data input? Report output? Simulation details?</span>
<span id="cb1-62"><a href="#cb1-62"></a>    b.  What are the report generation options?</span>
<span id="cb1-63"><a href="#cb1-63"></a>    c.  What tabular output options are there?</span>
<span id="cb1-64"><a href="#cb1-64"></a>    d.  What graphical output options are there?</span>
<span id="cb1-65"><a href="#cb1-65"></a><span class="ss">4.  </span>**Integration**</span>
<span id="cb1-66"><a href="#cb1-66"></a>    a.  How is integration with Excel handled?</span>
<span id="cb1-67"><a href="#cb1-67"></a>    b.  Is integration with a separate Economic Scenario Generator possible?</span>
<span id="cb1-68"><a href="#cb1-68"></a>    c.  How is integration with commercial catastrophe models handled?</span>
<span id="cb1-69"><a href="#cb1-69"></a><span class="ss">5.  </span>**Running**</span>
<span id="cb1-70"><a href="#cb1-70"></a>    a.  Are automatic multi-assumption model runs supported?</span>
<span id="cb1-71"><a href="#cb1-71"></a>    b.  Is there scripting? In what language?</span>
<span id="cb1-72"><a href="#cb1-72"></a><span class="ss">6.  </span>**System issues**</span>
<span id="cb1-73"><a href="#cb1-73"></a>    a.  How are version control and model security handled?</span>
<span id="cb1-74"><a href="#cb1-74"></a>    b.  What are the hardware requirements (one PC, cluster, cloud)?</span>
<span id="cb1-75"><a href="#cb1-75"></a>    c.  Is there a front-end app or web interface?</span>
<span id="cb1-76"><a href="#cb1-76"></a>    d.  Is there an Application Programming Interface (API)?</span>
<span id="cb1-77"><a href="#cb1-77"></a><span class="ss">7.  </span>**Track record**</span>
<span id="cb1-78"><a href="#cb1-78"></a>    a.  Are there models in production used for the London market, Solvency II, and Swiss Solvency Test?</span>
<span id="cb1-79"><a href="#cb1-79"></a>    b.  What is the typical size of a client model (lines, year, assets, etc.) and what is the corresponding simulation run time?</span></code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>DRAFT - do not redistribute</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>